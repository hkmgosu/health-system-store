<section layout="row"
         flex>
    <md-content flex>
        <md-tabs md-swipe-content
                 md-selected="vm.selectedTab"
                 class="md-primary md-hue-1 tabs-requests"
                 style="border-radius: 0">
            <md-tab md-on-select="null"
                    id="open">
                <md-tab-label>
                    <span>Abiertos</span>
                    <span class="ssvq-badge">{{vm.openedCount}}</span>
                </md-tab-label>
                <md-tab-body>
                    <ssvq-permission-list type="open"
                                          filter="vm.filter"
                                          ng-if="vm.selectedTab == 0"
                                          count="vm.openedCount"></ssvq-permission-list>
                </md-tab-body>
            </md-tab>
            <md-tab md-on-select="null"
                    id="closed">
                <md-tab-label>
                    <span>Cerrados</span>
                    <!-- <span class="ssvq-badge">{{vm.closedCount}}</span> -->
                </md-tab-label>
                <md-tab-body>
                    <ssvq-permission-list type="closed"
                                          ng-if="vm.selectedTab == 1"
                                          filter="vm.filter"></ssvq-permission-list>
                </md-tab-body>
            </md-tab>
            <md-tab md-on-select="null"
                    id="all">
                <md-tab-label>
                    <span>Todos</span>
                    <!-- <span class="ssvq-badge">{{vm.allCount}}</span> -->
                </md-tab-label>
                <md-tab-body>
                    <ssvq-permission-list ng-if="vm.selectedTab == 2"
                                          filter="vm.filter"></ssvq-permission-list>
                </md-tab-body>
            </md-tab>
        </md-tabs>
        <md-button class="md-fab md-primary md-fab-bottom-right"
                   ng-click="vm.showSaveDialog($event)"
                   aria-label="Ingresar nuevo permiso">
            <md-tooltip md-direction="left">Ingresar nuevo permiso</md-tooltip>
            <md-icon md-font-icon="zmdi zmdi-edit"></md-icon>
        </md-button>
        <md-button class="md-fab md-mini md-accent md-fab-top-right hide-gt-xs"
                   ng-click="vm.toggleFilter()"
                   aria-label="Filtros">
            <md-tooltip>Ver filtros</md-tooltip>
            <md-icon md-font-icon="zmdi zmdi-filter-list"></md-icon>
        </md-button>
    </md-content>

    <md-sidenav class="md-sidenav-right md-whiteframe-1dp"
                md-is-locked-open="$mdMedia('gt-xs')"
                md-component-id="permission-filter">
        <ssvq-permission-list-filter filter="vm.filter"></ssvq-permission-list-filter>
    </md-sidenav>
</section>

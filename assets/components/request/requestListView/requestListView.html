<!-- ssvq-request-list-view -->
<section layout="row"
         flex>
    <md-content flex>
        <md-tabs md-swipe-content
                 md-selected="vm.selectedTab"
                 class="md-primary md-hue-1 tabs-requests"
                 style="border-radius: 0">
            <md-tab md-on-select="null"
                    id="open">
                <md-tab-label>
                    <span>Abiertos</span>
                    <!-- <span class="ssvq-badge">{{vm.openedCount}}</span> -->
                </md-tab-label>
                <md-tab-body>
                    <ssvq-request-list finished="false"
                                       filter="vm.filter"
                                       ng-if="vm.selectedTab == 0"
                                       count="vm.openedCount"></ssvq-request-list>
                </md-tab-body>
            </md-tab>
            <md-tab md-on-select="null"
                    id="closed">
                <md-tab-label>
                    <span>Cerrados</span>
                </md-tab-label>
                <md-tab-body>
                    <ssvq-request-list finished="true"
                                       filter="vm.filter"
                                       ng-if="vm.selectedTab == 1"
                                       count="vm.closedCount"></ssvq-request-list>
                </md-tab-body>
            </md-tab>
            <md-tab md-on-select="null"
                    id="all">
                <md-tab-label>
                    <span>Todos</span>
                </md-tab-label>
                <md-tab-body>
                    <ssvq-request-list finished="[true, false]"
                                       filter="vm.filter"
                                       ng-if="vm.selectedTab == 2"
                                       count="vm.allCount"></ssvq-request-list>
                </md-tab-body>
            </md-tab>
        </md-tabs>
        <md-fab-speed-dial md-open="vm.isOpen"
                           md-direction="up"
                           class="md-fab-bottom-right md-fling md-hover-full"
                           ng-mouseenter="vm.isOpen=true;"
                           ng-mouseleave="vm.isOpen=false;"
                           ng-cloak>
            <md-fab-trigger>
                <md-button aria-label="menu"
                           class="md-raised md-primary md-fab"
                           ng-click="vm.showNewRequest($event)">
                    <md-icon md-font-icon="zmdi zmdi-edit"
                             class="animated rotateIn float-icon-swipeable"
                             ng-class="!vm.isOpen? 'rotateOut' : ''"></md-icon>
                    <md-icon md-font-icon="zmdi zmdi-plus"
                             class="animated rotateIn float-icon-swipeable"
                             ng-class="vm.isOpen? 'rotateOut' : ''"></md-icon>
                    <md-tooltip md-direction="left">
                        Nueva solicitud
                    </md-tooltip>
                </md-button>
            </md-fab-trigger>
            <md-fab-actions>
                <md-button aria-label="Nueva solicitud"
                           class="md-fab md-raised md-mini md-primary"
                           ng-show="vm.canSelfAssign"
                           ng-click="vm.showNewRequest($event, {selfAssigned: true})">
                    <md-icon md-font-icon="zmdi zmdi-flash"></md-icon>
                    <md-tooltip md-direction="left">
                        Nueva solicitud autoasignada
                    </md-tooltip>
                </md-button>
            </md-fab-actions>
        </md-fab-speed-dial>
        <md-button class="md-fab md-mini md-accent md-fab-top-right hide-gt-xs"
                   ng-click="vm.toggleFilter()"
                   aria-label="Filtros">
            <md-tooltip>Ver filtros</md-tooltip>
            <md-icon md-font-icon="zmdi zmdi-filter-list"></md-icon>
        </md-button>
    </md-content>

    <md-sidenav class="md-sidenav-right md-whiteframe-1dp"
                md-is-locked-open="$mdMedia('gt-xs')"
                md-component-id="request-filter">
        <ssvq-request-list-filter filter="vm.filter"
                                  class="full-height">
        </ssvq-request-list-filter>
    </md-sidenav>
</section>
<!-- end ssvqRequestListView -->
